## VIEW INSERT 불가 상황

----그룹함수 사용한 뷰----
CREATE OR REPLACE VIEW CV_DML_i_TEST1
AS
SELECT JOB_ID JID, ROUND(AVG(SALARY)) AV_SAL
FROM EMPLOYEES
GROUP BY JOB_ID
ORDER BY 2;

INSERT INTO CV_DML_i_TEST1 VALUES('AD_ASST',6000);
--SQL 오류: ORA-01733: virtual column not allowed here
 
----DISTINCT 사용한 뷰----
CREATE OR REPLACE VIEW CV_DML_i_TEST2
AS 
SELECT DISTINCT DEPARTMENT_ID, JOB_ID, SALARY
FROM EMPLOYEES
WHERE DEPARTMENT_ID IS NOT NULL
ORDER BY 1,2;

INSERT INTO CV_DML_i_TEST2 VALUES(10,'AD_ASST',5000);
--SQL 오류: ORA-01732: data manipulation operation not legal on this view

----ROWNUM 사용한 뷰----
CREATE OR REPLACE VIEW CV_DML_i_TEST3
AS
SELECT ROWNUM RRRANK, IV2.EID, IV2.HIDATE
FROM (SELECT ROWNUM RRANK, IV.* 
      FROM (SELECT ROWNUM RANK, EMPLOYEE_ID EID, HIRE_DATE HIDATE 
      FROM EMPLOYEES 
      ORDER BY 3 DESC)IV) IV2
WHERE IV2.RRANK BETWEEN 6 AND 10;

INSERT INTO CV_DML_i_TEST3 VALUES(6, 110,'2019/11/1'); 
--SQL 오류: ORA-01732: data manipulation operation not legal on this view

