--VIEW & VIEW 를 사용한 조인 및 복합 VIEW 생성 가능

CREATE OR REPLACE VIEW V_DEPT
AS
SELECT * FROM DEPT;

CREATE OR REPLACE VIEW V_EMP
AS
SELECT * FROM EMP;


SELECT * FROM V_EMP E, V_DEPT D
WHERE E.DEPTNO = D.DEPTNO;

## VIEW 생성 : 표현식 + JOIN

CREATE OR REPLACE VIEW V_EMDE
AS
SELECT EMPNO, ENAME, DEPTNO, DNAME, 12*(SAL + NVL(COMM,0)) AS ANN_SAL
FROM EMP E JOIN DEPT D
USING(DEPTNO);

## TABLE & VIEW  사용한 VIEW 생성

CREATE OR REPLACE VIEW VTEST3 (EMP_EMPNO,EMP_ENAME, EMP_MID, MGE_MNAME)
AS
SELECT E.EMPLOYEE_ID, E.FIRST_NAME||' '||E.LAST_NAME, E.MANAGER_ID
       , M.FIRST_NAME||' '||M.LAST_NAME
FROM EMPLOYEES E, VTEST1 M
WHERE E.MANAGER_ID = M.EMPLOYEE_ID(+);
SELECT * FROM VTEST3;
